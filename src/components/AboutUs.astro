<section id="ts-features" class="ts-features">
    <div class="container mt-5">
        <div class="row">
            <h1 class="into-title">Sobre Nosotros</h1>
            <div class="col-xl-6 col-md-7 col-xs-12 mb-5">
                <div class="ts-intro">
                    <h3 class="into-sub-title">
                        Entregamos proyectos a medida
                    </h3>
                    <p>
                        Estamos comprometido a dar un presupuesto acorde al
                        trabajo realizado y damos un plan de financiamiento para
                        que puedas llevar a cabo la construccion de tu vivienda.
                    </p>
                </div>

                <div class="gap-20"></div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="ts-service-box">
                            <span class="ts-service-icon">
                                <i class="bi bi-trophy-fill"></i>
                            </span>
                            <div class="ts-service-box-content">
                                <h3 class="service-box-title">
                                    TENEMOS EXCELENTE REPUTACIÓN
                                </h3>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="ts-service-box">
                            <span class="ts-service-icon">
                                <i class="bi bi-hand-thumbs-up-fill"></i>
                            </span>
                            <div class="ts-service-box-content">
                                <h3 class="service-box-title">
                                    GUIADO POR COMPROMISO
                                </h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-6 col-md-5 col-xs-12">
                <h3 class="into-sub-title">NUESTROS VALORES</h3>
                <p>
                    20 años en el rubro, los cuales nos permiten decir que
                    nuestro compromiso es muy fiable y nuestros clientes dan
                    testimonio de ello.
                </p>
                <div class="accordion" id="accordionPanelsStayOpenExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button
                                class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#panelsStayOpen-collapseOne"
                                aria-expanded="true"
                                aria-controls="panelsStayOpen-collapseOne"
                            >
                                SEGURIDAD
                            </button>
                        </h2>
                        <div
                            id="panelsStayOpen-collapseOne"
                            class="accordion-collapse collapse"
                        >
                            <div class="accordion-body">
                                Contamos con las herramientas necesarias para que el trabajo sea realizado acorde a la reglamentación.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button
                                class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#panelsStayOpen-collapseTwo"
                                aria-expanded="false"
                                aria-controls="panelsStayOpen-collapseTwo"
                            >
                                SERVICIO AL CLIENTE
                            </button>
                        </h2>
                        <div
                            id="panelsStayOpen-collapseTwo"
                            class="accordion-collapse collapse"
                        >
                            <div class="accordion-body">
                                Estamos de Lunes a Sábados disponibles, puedes comunicarte con nosotros vía mail, WhatsApp o llamada, respondemos a la brevedad.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button
                                class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#panelsStayOpen-collapseThree"
                                aria-expanded="false"
                                aria-controls="panelsStayOpen-collapseThree"
                            >
                                FINANCIAMIENTO
                            </button>
                        </h2>
                        <div
                            id="panelsStayOpen-collapseThree"
                            class="accordion-collapse collapse"
                        >
                            <div class="accordion-body">
                                <p>La financiacion es acorde a la necesidad de cada cliente y nos manejamos con todo tipo de medios de pago.</p>
                                <p>Efectivo, MercadoPago, CriptoMonedas, etc.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<section id="facts" class="facts-area bg-overlay mt-5">
    <div class="container">
        <div class="row">
            <div class="facts-wrapper">
                <div class="row">
                    <div class="col-sm-4 ts-facts">
                        <div class="ts-facts-img">
                            <img src="./src/assets/images/icons/fact-1.png" alt="" />
                        </div>
                        <div class="ts-facts-content">
                            <h2 class="ts-facts-num"><span class="counterUp" data-count="34">0</span></h2>
                            <h3 class="ts-facts-title">Total Proyectos</h3>
                        </div>
                    </div>
    
                    <div class="col-sm-4 ts-facts">
                        <div class="ts-facts-img">
                            <img src="./src/assets/images/icons/fact-2.png" alt="" />
                        </div>
                        <div class="ts-facts-content">
                            <h2 class="ts-facts-num"><span class="counterUp" data-count="30">0</span></h2>
                            <h3 class="ts-facts-title">Miembros</h3>
                        </div>
                    </div>
    
                    <div class="col-sm-4 ts-facts">
                        <div class="ts-facts-img">
                            <img src="./src/assets/images/icons/fact-4.png" alt="" />
                        </div>
                        <div class="ts-facts-content">
                            <h2 class="ts-facts-num"><span class="counterUp" data-count="13">0</span></h2>
                            <h3 class="ts-facts-title">Ciudades donde Trabajamos</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style lang="sass">
    @use '../assets/sass/pages/home/home'
</style>

<script>
    function counter() {
        let oTop: number;
        const counterUpElements = document.querySelectorAll<HTMLElement>('.counterUp');
        
        if (counterUpElements.length !== 0) {
            oTop = counterUpElements[0].getBoundingClientRect().top + window.scrollY - window.innerHeight;
        }

        if (window.scrollY > oTop) {
            counterUpElements.forEach((element) => {
                const countTo = parseInt(element.getAttribute('data-count') || '0');
                const countNum = { value: parseInt(element.textContent || '0') };

                const animateCount = () => {
                    const start = countNum.value;
                    const end = countTo;
                    const duration = 1000;
                    let startTime: number | null = null;

                    function animate(timestamp: number) {
                        if (!startTime) startTime = timestamp;
                        const progress = timestamp - startTime;
                        const current = Math.min(progress / duration, 1);
                        element.textContent = Math.floor(current * (end - start) + start).toString();

                        if (progress < duration) {
                            requestAnimationFrame(animate);
                        } else {
                            element.textContent = end.toString();
                        }
                    }

                    requestAnimationFrame(animate);
                };

                animateCount();
            });
        }
    }

    window.addEventListener('scroll', () => {
        counter();
    });
</script>
